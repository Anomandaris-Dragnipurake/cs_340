{# The following HTML structure is derived from the starter app code for cs_340
Date 7/25/2024
Derived from the example structure of Jinja
https://github.com/osu-cs340-ecampus/flask-starter-app/tree/master#}

<!DOCTYPE html>
<html lang="en">

<head>
    {% block head %}
    <link rel="stylesheet" href="/static/css/style.css" />
    <title>{% block title %}{% endblock %}</title>
    <script language="JavaScript">
        function showform(dowhat) {
            /*
             * four DIVS: browse, create, update, delete
             * this function sets one visible the others not
             */
            if (dowhat == 'create') {
                document.getElementById('browse').style.display = 'none';
                document.getElementById('create').style.display = 'block';
                document.getElementById('update').style.display = 'none';
                document.getElementById('delete').style.display = 'none';
            } else if (dowhat == 'update') {
                document.getElementById('browse').style.display = 'none';
                document.getElementById('create').style.display = 'none';
                document.getElementById('update').style.display = 'block';
                document.getElementById('delete').style.display = 'none';
            } else if (dowhat == 'delete') {
                document.getElementById('browse').style.display = 'none';
                document.getElementById('create').style.display = 'none';
                document.getElementById('update').style.display = 'none';
                document.getElementById('delete').style.display = 'block';
            } else { //by default display browse
                document.getElementById('browse').style.display = 'flex';
                document.getElementById('create').style.display = 'none';
                document.getElementById('update').style.display = 'none';
                document.getElementById('delete').style.display = 'none';
            }
        }

        function createForm() {
            showform('create');
        }

        function updateForm(pid) {
            showform('update');
        }

        function deleteForm(pid) {
            showform('delete');
        }

        function browseForm() {
            showform('browse');
        }
    </script>
    {% endblock %}
</head>

<body onload= {{pgOption}}>
    <h1 class="title">{{self.title() }}</h1>
    <nav>
        <ul>
            <li><a class="navLinks" href="/flight-admin">Flight Admin</a></li>
            <li><a class="navLinks" href="/seat-admin">Seat Admin</a></li>
            <li><a class="navLinks" href="/airplane-admin">Airplane Admin</a></li>
            <li><a class="navLinks" href="/airport-admin">Airport Admin</a></li>
            <li><a class="navLinks" href="/travelclass-admin">Travel Class Admin</a></li>
            <li><a class="navLinks" href="/airplanetravelclass-admin">Airplane Travel Class Admin</a></li>
        </ul>
    </nav>
    <div id="browse">
        {% block read %}
        <table class="readTable" border="1" cellpadding="5">
            <!-- Access data tuple passed from app.py -->
            {% if data %}
            <thead>
                <tr>
                    <!-- Iterate through each key in the first entry to get the column name -->
                    {% for key in data[0].keys() %}

                    <!-- Create a <th> tag with the key inside of it, this will be our header row -->
                    <th class="readTH" scope="col" data-field="{{ key }}" data-filter-control="input">{{ key | replace("_", " ") }}</th>

                    <!-- End of this for loop -->
                    {% endfor %}
                    {% block new_button%} {% endblock %}
                </tr>
            </thead>
            <tbody>
                <!-- Now, iterate through every item in data -->
                {% for item in data %}
                <tr>
                    <!-- Then iterate through every key in the current item dictionary -->
                    {% for key in item.keys() %}

                    <!-- Create a <td> element with the value of that key in it -->
                    <td class="readTD"> {{item[key]}} </td>
                    {% endfor %}

                    <!-- Create update/delete buttons -->
                    {% block update_button scoped %} {{item}} {% endblock %}
                    {% block delete_button scoped %} {{item}} {% endblock %}

                </tr>
                {% endfor %}
                {% endif %}
            </tbody>
        </table>
        {% endblock %}
    </div>

    <div id="create">{% block create %}{% endblock %}</div>

    <div id="update">{% block update %}{% endblock %}</div>

    <div id="delete">{% block delete %}{% endblock %}</div>

    <div id="footer">
        {% block footer %}
        Group 3: Andrew Chi & Eric McElhinny
        {% endblock %}
    </div>
</body>

</html>